<!DOCTYPE html>
<html lang="en">

<head>
  <!-- ## for client-side less
  <link rel="stylesheet/less" type="text/css" href="http://cmsj.net/theme/css/style.less">
  <script src="//cdnjs.cloudflare.com/ajax/libs/less.js/1.7.3/less.min.js" type="text/javascript"></script>
  -->


  <link rel="icon" type="image/vnd.microsoft.icon" href="http://cmsj.net/">
  <link rel="stylesheet" type="text/css" href="http://cmsj.net/theme/css/normalize.css">
  <link rel="stylesheet" type="text/css" href="http://cmsj.net/theme/css/style.min.css">
  <link rel="stylesheet" type="text/css" href="http://cmsj.net/theme/css/pygments.css">
  <link rel="stylesheet" type="text/css" href="//fonts.googleapis.com/css?family=Roboto+Mono">
  <link rel="stylesheet" type="text/css" href="http://cmsj.net/theme/css/fontawesome-all.min.css">
  <link rel="stylesheet" type="text/css" href="http://cmsj.net/theme/css/hatena-bookmark-icon.css">

  <meta charset="utf-8" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="author" content="Chris Jones">
  <meta name="description" content="Posts and writings by Chris Jones">
  <meta name="og:site_name" content="cmsj.net">

  <!-- Twitter Card -->




  <link href="http://cmsj.net/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="cmsj.net Atom" />


  <title>
    cmsj.net
&ndash; Posts by: Chris Jones  </title></head>

<body>
  <main>
    <header>
      <div class="site-name">
        <a href="http://cmsj.net">cmsj.net</a>
      </div>
      <p>
        <a href="http://cmsj.net/archives.html"><i class="fas fa-archive"></i> Archive</a>
&gt; Author: Chris Jones
      </p>
    </header>

<article>
  <div class="article__title">
    <h1><a href="http://cmsj.net/2016/08/30/changing-gpg-key.html">Changing GPG key</a></h1>
  </div>
  <div class="article__meta">
    <p class="article__meta__post-date">Posted on: Tue 30 August 2016</p>
    </p>
  </div>
  <div class="article__text">
    <p>It's been 15 years and my GPG key is now looking hilariously out of date - 1024bit DSA key. Yuck.
So, time to start over. Below is a statement about the change, with details of my new and old keys, signed by both keys. Since it will almost certainly not paste properly out of a browser, I have also uploaded it to GitHub: <a href="https://gist.githubusercontent.com/cmsj/3093f03e085239de0e64ea33d1b2bfab/raw/82c2cb9110e83f0aae4a8155aec954c3aa9aab3b/gpg-migration.txt.asc.asc">here</a>.</p>
<div class="highlight"><pre><span></span><code><span class="o">-----</span><span class="kr">BEGIN</span> <span class="n">PGP</span> <span class="n">SIGNED</span> <span class="n">MESSAGE</span><span class="o">-----</span>
<span class="n">Hash</span><span class="p">:</span> <span class="n">SHA256</span>

<span class="o">-</span> <span class="o">-----</span><span class="kr">BEGIN</span> <span class="n">PGP</span> <span class="n">SIGNED</span> <span class="n">MESSAGE</span><span class="o">-----</span>
<span class="n">Hash</span><span class="p">:</span> <span class="n">SHA256</span>

<span class="n">Hello</span> <span class="n">world</span>

<span class="n">My</span> <span class="n">name</span> <span class="n">is</span> <span class="n">Chris</span> <span class="n">Jones</span> <span class="n">and</span> <span class="n">I</span> <span class="n">am</span> <span class="n">changing</span> <span class="n">my</span> <span class="n">GPG</span> <span class="n">key</span><span class="p">.</span>
<span class="n">The</span> <span class="n">original</span> <span class="n">key</span> <span class="n">fingerprint</span> <span class="n">is</span><span class="p">:</span> <span class="mi">6</span><span class="n">C99</span> <span class="mi">9021</span> <span class="mi">9</span><span class="n">B3A</span> <span class="n">EC6D</span> <span class="mi">4</span><span class="n">A28</span>  <span class="mi">7</span><span class="n">EE7</span> <span class="n">C574</span> <span class="mi">7646</span> <span class="mi">7313</span> <span class="mi">2</span><span class="n">D75</span>
<span class="n">The</span> <span class="n">new</span> <span class="n">key</span> <span class="n">fingerprint</span> <span class="n">is</span><span class="p">:</span> <span class="mi">79</span><span class="n">D2</span> <span class="mi">2</span><span class="n">E89</span> <span class="mi">6591</span> <span class="mi">210</span><span class="n">E</span> <span class="mi">45</span><span class="n">F3</span>  <span class="mi">75</span><span class="n">D3</span> <span class="n">BCA2</span> <span class="mi">36</span><span class="n">E2</span> <span class="n">E19F</span> <span class="mi">727</span><span class="n">D</span>

<span class="n">You</span> <span class="n">should</span> <span class="n">find</span> <span class="n">this</span> <span class="n">message</span> <span class="n">signed</span> <span class="n">by</span> <span class="n">the</span> <span class="n">new</span> <span class="n">key</span><span class="p">,</span> <span class="n">and</span> <span class="n">that</span> <span class="n">combined</span> <span class="n">message</span> <span class="n">signed</span> <span class="n">by</span> <span class="n">the</span> <span class="n">old</span> <span class="n">key</span><span class="p">,</span> <span class="n">as</span> <span class="n">proof</span> <span class="n">that</span> <span class="n">I</span> <span class="n">am</span> <span class="n">doing</span> <span class="n">this</span><span class="p">.</span> <span class="n">I</span> <span class="n">have</span> <span class="n">also</span> <span class="n">updated</span> <span class="n">my</span> <span class="n">keybase</span><span class="p">.</span><span class="n">io</span> <span class="n">account</span> <span class="n">and</span> <span class="n">secured</span> <span class="n">a</span> <span class="n">couple</span> <span class="n">of</span> <span class="n">signatures</span> <span class="n">on</span> <span class="n">the</span> <span class="n">new</span> <span class="n">key</span> <span class="n">to</span> <span class="n">start</span> <span class="n">rebuilding</span> <span class="n">my</span> <span class="n">place</span> <span class="n">in</span> <span class="n">the</span> <span class="n">web</span> <span class="n">of</span> <span class="n">trust</span><span class="p">.</span>

<span class="n">Thank</span> <span class="n">you</span> <span class="n">for</span> <span class="n">your</span> <span class="n">time</span><span class="p">,</span>

<span class="n">Chris</span>
<span class="o">-</span> <span class="o">-----</span><span class="kr">BEGIN</span> <span class="n">PGP</span> <span class="n">SIGNATURE</span><span class="o">-----</span>
<span class="n">Version</span><span class="p">:</span> <span class="n">GnuPG</span><span class="o">/</span><span class="n">MacGPG2</span> <span class="n">v2</span><span class="p">.</span><span class="mi">0</span>

<span class="n">iQIcBAEBCAAGBQJXxffoAAoJECwUb1eIgw1qUMEP</span><span class="o">+</span><span class="n">wfaB84vYC4tHdo9OS9szaQv</span>
<span class="n">cmNW0sIuDx</span><span class="o">/</span><span class="n">RQr4iYrcs</span><span class="o">+</span><span class="mi">8</span><span class="n">QTQf2I3FPXUc6auhyF4J7Lntu67sTKI9zyfsDm0IW9</span>
<span class="n">NbIzysTP1Y35lJPA12VM9O9IRaf5G7J57BKAmAuUbpnY7icIzA0MoD4SwCgcRXtA</span>
<span class="n">QPZd8JVPDLaNpwb1O5rdQLBAdo</span><span class="o">+</span><span class="n">OUjF</span><span class="o">+</span><span class="n">bB8jZzzoORX0oVVdGhaGJFVhuq8aV1dY</span>
<span class="mi">0</span><span class="n">YB</span><span class="o">/</span><span class="n">nZr71ZApUVnvSZBfj1FHsgXZ5Fai70iI</span><span class="o">+</span><span class="n">oAox</span><span class="o">/</span><span class="n">Gj6BJ0IJhBIk5hLAzAiXoR</span>
<span class="mi">8</span><span class="n">EMmtqkWkKc8Jd3NonMzKRGF</span><span class="o">+</span><span class="n">qT</span><span class="o">+</span><span class="n">G3YuZIDmSptOZWjJ5volT25bYFknEBxPslwC</span>
<span class="n">TiBGSs6rKz9RhfxGxCmM350zBIVFFCn</span><span class="o">+</span><span class="n">RNCWrgn</span><span class="o">/</span><span class="n">z4OJp4xSvZJ0IwqB</span><span class="o">/</span><span class="n">CwkrmUb</span>
<span class="mi">0</span><span class="n">ZhG44O2W5lpuSCDh1dhCsiryq4JeSiUy1GENyHl8eIkXjzDOjKTt6OT8wYFFPL7</span>
<span class="n">XheyIfvMbRNh86o79Skch6Qoyh7nvVALAwsLVHKSDtQRzHbVF6ED9h2ISxdABiZ2</span>
<span class="n">CkiJ95bf8JQeNVoqLJ78uwSYN96AyGPXfMQKG45SavgkzNLyqeoI1iMJE2yYuVIy</span>
<span class="n">Z9XUaKhoDI9ERLps</span><span class="o">+</span><span class="n">Fw6NY</span><span class="o">+</span><span class="n">v2BVSKTvl5MDEDHmfvjK0m3x6C4tF3</span><span class="o">/</span><span class="n">QdgwRsJmvE</span>
<span class="mi">2</span><span class="n">XMWXLrBkcZx9tnYNFIG</span>
<span class="o">=</span><span class="mi">9</span><span class="n">PwA</span>
<span class="o">-</span> <span class="o">-----</span><span class="kr">END</span> <span class="n">PGP</span> <span class="n">SIGNATURE</span><span class="o">-----</span>
<span class="o">-----</span><span class="kr">BEGIN</span> <span class="n">PGP</span> <span class="n">SIGNATURE</span><span class="o">-----</span>
<span class="n">Version</span><span class="p">:</span> <span class="n">GnuPG</span><span class="o">/</span><span class="n">MacGPG2</span> <span class="n">v2</span><span class="p">.</span><span class="mi">0</span>

<span class="n">iQEcBAEBCAAGBQJXxff1AAoJEPH</span><span class="o">//</span><span class="mi">8</span><span class="n">xn2jUBNOcIAL4fqY</span><span class="o">/</span><span class="n">DViwNj2</span><span class="o">/</span><span class="n">Va4ePEg1w</span>
<span class="mi">9</span><span class="n">uUWhGnMUcG4CsQGkhtODU6Qg45inrWnG0VE8jwhGilP4w5tQoIe</span><span class="o">+</span><span class="n">m53cUp5m</span><span class="o">/</span><span class="n">Rv</span>
<span class="n">ueRBvfDxBw</span><span class="o">/</span><span class="n">SrF6eFZ1SGkXv6kcUkOYjueKsDtxObaX9dN7PrDUljtZWpGTzE77k</span>
<span class="mi">5</span><span class="n">EWPGfUT89oXa2eGwYnr6t7t9f76cO9eKFck7rIWT</span><span class="o">+</span><span class="n">p1tzmF6amm7IjoS8gsjfSb</span>
<span class="n">lPk3PoC0G71wSseh7iesIgw</span><span class="o">+</span><span class="n">vZRZ7tYg59RdpwWLmZjQJVhMzW</span><span class="o">/</span><span class="n">QpX87CPAM2m0A</span>
<span class="n">OcyivXLlbaSZ58AsHZSIA4ZjeoDnlWNsFHemBUSAOMa03b4JtgnGbTaHTZhiLc8</span><span class="o">=</span>
<span class="o">=/</span><span class="n">lkZ</span>
<span class="o">-----</span><span class="kr">END</span> <span class="n">PGP</span> <span class="n">SIGNATURE</span><span class="o">-----</span>
</code></pre></div>
  </div>
</article>
<hr />
<article>
  <div class="article__title">
    <h1><a href="http://cmsj.net/2015/12/08/raspberry-pi-project-pibus.html">Raspberry Pi project: PiBus</a></h1>
  </div>
  <div class="article__meta">
    <p class="article__meta__post-date">Posted on: Tue 08 December 2015</p>
    </p>
  </div>
  <div class="article__text">
    <p>The premise of this project is simple - my family lives in London, there's a bus route that runs along our road, and we use it a lot to take the kids places.
The reality of using the bus is a little more complex - getting three kids ready to go out, is a nightmare and it's not made any easier by checking a travel app on your phone to see how close the bus is.</p>
<p>I don't think there is much I can do to make the preparation of the children any less manic, but I can certainly do something about the visibility of information about buses, mainly thanks to the excellent open APIs/data provided by <a href="https://tfl.gov.uk/info-for/open-data-users/">Transport For London</a>.</p>
<p>So, armed with their API, a Python 3 interpreter and a <a href="https://www.raspberrypi.org/">Raspberry Pi</a>, I set out to make a little box for the kitchen wall which will show when the next 3 buses are due to arrive outside our house.</p>
<p><a href="https://github.com/cmsj/pibus">The code itself</a> is easy enough to throw together because Python has libraries for everything (it also helps if you don't bother to design a decent architecture!). <a href="http://docs.python-requests.org/en/latest/">Requests</a> to fetch the bus data from TfL, <a href="https://docs.python.org/3/library/json.html">json</a>/<a href="https://pypi.python.org/pypi/iso8601">iso8601</a> to parse the data, <a href="https://python-pillow.github.io/">Pillow</a> to render it as an image, and <a href="https://apscheduler.readthedocs.org/en/latest/">APScheduler</a> to give it a simple run-loop.</p>
<p>The question then becomes, how to display the data. The easiest answer would be a little LCD screen, but that brings with it the downside of having a backlight in the kitchen, which would be ugly and distracting, and it also raises the question of viewing angles. Another answer would be some kind of physical indicator, but that requires skills I don't have time for. Instead, I decided to look for an E-Ink display (think <a href="https://kindle.amazon.com/">Kindle</a>) - it would let me display simple images without producing light.</p>
<p>The first option I looked at was the <a href="https://www.kickstarter.com/projects/pisupply/papirus-the-epaper-screen-hat-for-your-raspberry-p">PaPiRus</a>, but it's in the window between its crowdfunding drive having finished, and being available to buy. The only other option I could find was the <a href="http://www.percheron-electronics.uk/shop/e-paper-hat/">E-Paper HAT</a>, from Percheron Electronics, which also started life as a crowdfunding project, but is actually available to buy.</p>
<p>Unfortunately, these displays are super fragile, which I discovered by destroying the first one, but Neil at Percheron was super helpful and I quickly had a new display and some tips about how to avoid cracking it.</p>
<p>My visualisation of this data isn't going to win any awards for beauty, but it serves its purpose by showing a big number to tell us how many minutes we have, and I managed to minimise the number of times you see the white-black-white refresh cycle of the eInk display with partial screen updates.
Here are some photos of the project in various stages of construction:</p>
<p><img alt="Freshly assembled out of the box" src="http://cmsj.net/images/IMG_6856.JPG">
<em>Freshly assembled out of the box</em></p>
<p><img alt="The smallest USB WiFi adapter I've ever seen" src="http://cmsj.net/images/IMG_6857.JPG">
<em>The smallest USB WiFi adapter I've ever seen!</em></p>
<p><img alt="Modified PiBow case" src="http://cmsj.net/images/IMG_6858.JPG">
<em>Sadly I had to make some modifications to the PiBow case to fit this particular rPi</em></p>
<p><img alt="Running an eInk test program" src="http://cmsj.net/images/IMG_6864.JPG">
<em>Running one of the eInk display test programs</em></p>
<p>Initially I was rather hoping I could use the famous font that TfL (and London Transport before it) use, which is known as Johnston, but sadly they will not licence the font outside their own use and use by contracted partners. There is a third party clone of the font, but it may have legal issues, presumably because TfL values their braaaaaand. Instead, I decided to just drop the idea of shipping a font with the code, and exported Courier.ttf from my laptop to the Pi directly.</p>
<p><img alt="TfL font" src="http://cmsj.net/images/IMG_6897.JPG">
<em>This would have been nice, but I cannot have nice font things</em></p>
<p>I did briefly try Ubuntu Mono, which is a lovely font, but the zeros look like eyes and it freaked me out.</p>
<p><img alt="PIBUS IS WATCHING YOU" src="http://cmsj.net/images/Screenshot_2015-12-08_14.03.28.png">
<em>PIBUS IS WATCHING YOU</em></p>
<p>The display needs to handle various different situations, most obviously, when no data can be fetched from the API. Rather than get too bogged down in the details of whether our Internet connection is down, TfL's API servers are down, London is on fire, or it's just night time and there are no buses, I went for a simple message with a timestamp. Once this has been displayed, the code skips any further screen updates until it has valid data again. This makes it easy to see when a problem occurred.</p>
<p><img alt="Date message" src="http://cmsj.net/images/IMG_7010.JPG">
<em>Maybe aliens stole the Internet, maybe it's a bus strike. It doesn't matter.</em></p>
<p>I also render a small timestamp on valid data screens too, showing when the last data fetch happened. This is mostly so I can be sure that the fetching code isn't stuck somehow. Once I trust the system a bit more, this can probably come out.</p>
<p><img alt="Final design" src="http://cmsj.net/images/IMG_7012.JPG">
<em>The final design, showing a fallback for when there is data for  0 &lt; x &lt; 3 buses</em></p>
<p><img alt="Three buses" src="http://cmsj.net/images/IMG_7013.JPG">
<em>Data for three buses, plenty of time to get ready for the second one!</em></p>
<p>So there it is, project completed! Grab the code from <a href="https://github.com/cmsj/pibus">https://github.com/cmsj/pibus</a>, install the requirements on a Pi, give money to the awesome Percheron Electronics for the E-Paper HAT (and matching PiBow case), throw a font in the directory and edit the scripts for the bus stop and bus route that you care about!</p>
  </div>
</article>
<hr />
<article>
  <div class="article__title">
    <h1><a href="http://cmsj.net/2015/02/20/send-imessage-and-sms-with-applescript.html">Sending iMessages and SMS through Messages.app with AppleScript</a></h1>
  </div>
  <div class="article__meta">
    <p class="article__meta__post-date">Posted on: Fri 20 February 2015</p>
    </p>
  </div>
  <div class="article__text">
    <p>I was searching around for ways to automate sending iMessages, so I could write a plugin for <a href="http://www.hammerspoon.org/">Hammerspoon</a>. I found various scripts lurking around the place for sending iMessages, but I also found one that can send SMS if you have SMS Relay enabled (which means you need OS X 10.10 and an iPhone running iOS 8.1).
I figured I'd collect them as a single post, to help future searchers, so without further ado, here are two stripped down AppleScript snippets that let you control Messages.app to send either an iMessage, or an SMS.
Firstly, sending an iMessage:</p>
<div class="highlight"><pre><span></span><code><span class="k">tell</span> <span class="nb">application</span> <span class="s2">&quot;Messages&quot;</span>
  <span class="nv">send</span> <span class="s2">&quot;This is an iMessage&quot;</span> <span class="k">to</span> <span class="nv">buddy</span> <span class="s2">&quot;foo@bar.com&quot;</span> <span class="k">of</span> <span class="p">(</span><span class="nv">service</span> <span class="mi">1</span> <span class="nb">whose</span> <span class="nv">service</span> <span class="nv">type</span> <span class="ow">is</span> <span class="nv">iMessage</span><span class="p">)</span>
<span class="k">end</span> <span class="k">tell</span>
</code></pre></div>

<p>The buddy address can be either an email or a phone number that's registered with Apple for use with iMessage.
Secondly, sending an SMS:</p>
<div class="highlight"><pre><span></span><code><span class="k">tell</span> <span class="nb">application</span> <span class="s2">&quot;Messages&quot;</span>
  <span class="nv">send</span> <span class="s2">&quot;This is an SMS&quot;</span> <span class="k">to</span> <span class="nv">buddy</span> <span class="s2">&quot;+1234567890&quot;</span> <span class="k">of</span> <span class="nv">service</span> <span class="s2">&quot;SMS&quot;</span>
<span class="k">end</span> <span class="k">tell</span>
</code></pre></div>

<p>Here, the buddy address should be a phone number.
Simple!
(and for the Hammerspoon users, you'll find hs.messages available in the next release, 0.9.23)</p>
  </div>
</article>
<hr />
<article>
  <div class="article__title">
    <h1><a href="http://cmsj.net/2013/08/02/quick-thought-on-moto-x.html">The curious Moto X pricing</a></h1>
  </div>
  <div class="article__meta">
    <p class="article__meta__post-date">Posted on: Fri 02 August 2013</p>
    </p>
  </div>
  <div class="article__text">
    <p>Comparing the Moto X to the Nexus 4 is interesting in one particular respect - the price.
The Nexus 4 (made by LG, sold by Google) had very respectable specs when it was launched, but its price was surprisingly low ($300 off contract). We were told this was because it was being sold very close to cost price.
The Moto X (made by Motorola, which is owned by Google) has mid-range specs, but its price is surprisingly high ($200 up front *and* an expensive two year contract).
Overall Motorola is probably getting something like $400-$600 for each Moto X sold, when you factor in the carrier subsidy.
The inevitable question is why Google is happy to make almost no money off the Nexus 4, but wants to have its Motorola division make a respectable margin on the Moto X.</p>
<ul>
<li>Is it because doing otherwise would undermine the carriers' abilities to sell other phones, so they would refuse to do it?</li>
<li>Is it because Google wants the Motorola division to look good in their accounts, which is easier if you are selling mid-range phones for the kind of money that an iPhone sells for?</li>
<li>Something else?</li>
</ul>
  </div>
</article>
<hr />
<article>
  <div class="article__title">
    <h1><a href="http://cmsj.net/2013/07/17/moving-on-from-terminator.html">Moving on from Terminator</a></h1>
  </div>
  <div class="article__meta">
    <p class="article__meta__post-date">Posted on: Wed 17 July 2013</p>
    </p>
  </div>
  <div class="article__text">
    <p>Anyone who's been following Terminator knows this post has been a long time coming and should not be surprised by it.</p>
<p>As of a few days ago, I have handed over the reigns of the project to the very capable Stephen J Boddy (a name that will be no stranger to followers of the Terminator changelogs - he has contributed a great deal over the last few years).</p>
<p>We're still working out the actual details of the handover, so for now the website is still here and I am still technically the owner of the Launchpad team that runs the project, but going forward all code/release decisions will come from Stephen and we'll move the various administrivia over to new ownership in due course.</p>
<p>Everyone please grab your bug trackers and your python interpreters and go send Stephen patches and feature requests! :D</p>
  </div>
</article>
<hr />
<article>
  <div class="article__title">
    <h1><a href="http://cmsj.net/2013/07/17/some-keyboard-maestro-macros.html">Some Keyboard Maestro macros</a></h1>
  </div>
  <div class="article__meta">
    <p class="article__meta__post-date">Posted on: Wed 17 July 2013</p>
    </p>
  </div>
  <div class="article__text">
    <p>I've started using <a href="http://www.keyboardmaestro.com/main/">Keyboard Maestro</a> recently and it is one impressive piece of software.
Here are a couple of the macros I've written that aren't completely tied to my system:</p>
<p><a href="https://dl.dropboxusercontent.com/u/20103940/Type%20current%20Safari%20URL.kmmacros">Type current Safari URL</a>
-   This will type the URL of the frontmost Safari tab/window into your current application. Handy if you're chatting with someone and want to paste them a hilarious YouTube URL without switching apps, copying the URL to the clipboard and switching back.
-   It does not use the clipboard, it actually types the URL into the current application, so any modifier keys you hold will change what is being typed. I've configured the macro to fire when the specified hotkey is released, to minimise the chances of this happening.</p>
<p><a href="https://dl.dropboxusercontent.com/u/20103940/Toggle%20Caffeine.kmmacros">Toggle Caffeine</a>
-   Very simple, just toggles the state of <a href="http://lightheadsw.com/caffeine/">Caffeine</a> with a hotkey.</p>
  </div>
</article>
<hr />
<article>
  <div class="article__title">
    <h1><a href="http://cmsj.net/2013/06/10/the-case-against-new-mac-pro-at-wwdc.html">The (simplest) case against a new Mac Pro at WWDC</a></h1>
  </div>
  <div class="article__meta">
    <p class="article__meta__post-date">Posted on: Mon 10 June 2013</p>
    </p>
  </div>
  <div class="article__text">
    <p>This is pretty simple really - unless Apple wants to launch a new Mac Pro and have it be out of date almost immediately, they need to wait until Intel has released Ivy Bridge Xeons, which won't be until next month at the earliest (and given the delays with Haswell, July seems unlikely). Also coming later this year on Intel's roadmap is the introduction of Thunderbolt 2.</p>
<p>Both of these things would seem like an excellent foundation for a new line of professional Macs.</p>
<p>Given the very short list of hardware model numbers that leaked ahead of today's WWDC keynote, my guess is that Apple is going to hold a pro focused event in 2-4 months and refresh MacBook Pros, Mac Pros and hopefully the surrounding halo like Thunderbolt displays (which are crying out for the new iMac style case, the newer non-glossy screen, USB3.0 and soon, Thunderbolt 2) and the pro software Apple sells.</p>
<p>Having a pro-only event would also help calm the worries that Apple has stopped caring about high-value-low-volume professional users.</p>
  </div>
</article>
<hr />
<article>
  <div class="article__title">
    <h1><a href="http://cmsj.net/2013/06/10/thoughts-on-modular-mac-pro.html">Thoughts on a modular Mac Pro</a></h1>
  </div>
  <div class="article__meta">
    <p class="article__meta__post-date">Posted on: Mon 10 June 2013</p>
    </p>
  </div>
  <div class="article__text">
    <p>There have been some rumours recently that the next iteration of the Mac Pro is going to be modular, but we have had very little information about how this modularity might be expressed.
In some ways the current Mac Pro is already quite modular - at least compared to every other Mac/MacBook. You have easy access to lots of RAM slots, you have multiple standards-compliant disk bays, PCI slots and CPU sockets.
This affords the machine an extremely atypical level of upgradeability and expandability, for a Mac. Normal levels for a PC though.
Even with that modularity in mind, the machine itself is fairly monolithic - if you do need more than 4 disk drives, or more PCI cards than it can take, you have limited or no expansion options. You could burn a PCI slot for a hardware disk controller and attach some disks to it externally, but you are quickly descending into an exploding mess of power supplies, cables and cooling fans.
If Apple decides to proceed along that route, the easiest and most obvious answer is that they slim down the main Pro itself and decree that all expansion shall take place over Thunderbolt (currently 10Gb/s bidirectional, but moving to 20Gb/s bidirectional later this year when the Thunderbolt 2 Falcon Ridge controllers launch). This is a reasonable option, but even though Thunderbolt is essentially an external PCI-Express bus, its available bandwidth is considerably lower than the peak levels found on an internal PCI-E bus (currently around 125Gb/s).
A much better option, it would seem to me, would be to be able to go <strong><em>radically</em></strong> modular and expand the Mac itself, but how could that be possible? How can you just snap on some more PCI slots if you want those, or some more disks if that's what you need?
I will say at this point that I have absolutely no concrete information and I am not an electronic engineer, so what you read below is poorly informed speculation and should be treated as that :)
I think the answer is Intel's QuickPath Interconnect (QPI), a high bandwidth (over 200GB/s), low latency point-to-point communication bus for connecting the main components of an Intel based computer.
If you have any Intel CPU since around 2009, you probably have a QPI bus being used in your computer. Looking at the latest iteration of their CPUs, QPI is always present - on the uniprocessor CPUs it is used on the chip package to connect the CPU core to the elements of the northbridge that have migrated into the CPU package (such as the PCI-Express controller), however, on these chips the QPI bus is not presented externally.
On the multiprocessor-capable chips, it is, and is the normal way to interconnect the CPUs themselves, but it can be used for other point-to-point links, such as additional north bridges providing PCI-Express busses.
So you could buy a central module from Apple that contains 1, 2 or 4 CPUs (assuming Ivy Bridge Xeons) and all of the associated RAM slots, with maybe two minimal disk bays for the core OS to boot from, and a few USB3.0 and Thunderbolt ports. For the very lightest of users, this would likely be a complete computer - you have some disk, some RAM, CPUs and assuming the Xeons carry integrated GPUs, the Thunderbolt ports can output video. It would not be much of a workstation, but it would essentially be a beefed up Mac Mini.
I would then envision two kinds of modules that would stack on to the central module. The simplest kind would be something like a module with a disk controller chip and a load of disk bays and, not needing the raw power of QPI, this would simply connect to the existing PCI-Express bus of the main module.
There would clearly be a limit to how many of these modules you could connect, since there are a limited number of PCI-E lanes provided by any one controller (typically around 40 lanes on current chipsets), but with the second type of module, you could then take the expansion up a considerable number of notches.
That second kind would have a large and dense connector that is a QPI. These modules could then attach whatever they wanted to the system - more CPUs (up to whatever maximum is supported by that generation of Xeon - likely 8 in Ivy Bridge), or very very powerful IO modules. My current working example of this is a module that is tasked with capturing multiple 4K video streams to disk simultaneously.
This module would provide its own PCI-Express controller (linked back to the main module over QPI), internally connected to a number of video capture chips/cards and to one or more disk controller chips/cards which would connect to a number of disk bays. It sounds a lot like what would happen inside a normal PC, just without the CPU/RAM and that's because it's exactly that.
This would allow for all of the video capture to be happening within the module. It would be controlled as normal from the software running in the main module, which would be issuing the same instructions as if the capture hardware was on the main system PCI-E bus, causing the capture cards to use DMA to write their raw video directly to the disk controller exactly as if they were on the main system PCI-E bus. The difference would be that there would be no other hardware on the PCI-E bus, so you would be able to make reasonable promises around latency and bandwidth, knowing that no user is going to have a crazy extra set of cards in PCI slots, competing for bandwidth. Even if you have two of these modules capturing a really silly amount of video simultaneously. It's a model for being able to do vast amounts of IO in parallel in a single computer.
There would almost certainly need to be a fairly low limit on the number of QPI modules that could attach to the system, but being able to snap on even two or three modules would elevate the maximum capabilities of the Pro to levels far beyond almost any other desktop workstation.
As a prospective owner of the new Mac Pro, my two reasonable fears from this are:</p>
<ul>
<li>They go for the Thunderbolt-only route and my desk looks like an awful, noisy mess</li>
<li>They go for the radical modularity and I can't afford even the core module</li>
</ul>
<p>(While I'm throwing around random predictions, I might as well shoot for a name for the radical modularity model. I would stick with the Lightning/Thunderbolt IO names and call it Super Cell)
Edit: I'd like to credit Thomas Hurst for helping to shape some of my thinking about QPI.</p>
  </div>
</article>
<hr />
<article>
  <div class="article__title">
    <h1><a href="http://cmsj.net/2013/05/01/my-attempt-at-ipad-repair.html">My attempt at iPad repair.</a></h1>
  </div>
  <div class="article__meta">
    <p class="article__meta__post-date">Posted on: Wed 01 May 2013</p>
    </p>
  </div>
  <div class="article__text">
    <p>[<a href="//storify.com/cmsj/my-attempt-at-ipad-repair">View the story "My attempt at iPad repair" on Storify</a>]</p>
  </div>
</article>
<hr />
<article>
  <div class="article__title">
    <h1><a href="http://cmsj.net/2013/04/30/alfred-2-clipboard-history.html">Alfred 2 clipboard history</a></h1>
  </div>
  <div class="article__meta">
    <p class="article__meta__post-date">Posted on: Tue 30 April 2013</p>
    </p>
  </div>
  <div class="article__text">
    <p>The toweringly awesome Alfred 2 app for OS X has a great clipboard history browser. This is how I suggest you configure and use it:</p>
<ul>
<li>Map a hotkey to the viewer (I suggest making it something involving the letter V, since Cmd-V is a normal Paste. I use Cmd-Shift-Option-Ctrl V because I have my Caps Lock key mapped to Cmd-Shift-Option-Ctrl)</li>
<li>Turn off the option to show snippets at the top of the Clipboard History, because snippets are a whole different thing and not relevant to pasting history</li>
<li>Turn on the option to auto-paste when you hit Enter on a given item</li>
</ul>
<p>With these options all configured, all you have to do is hit the hotkey, select the old clipboard item you want and hit Enter. It will then be pasted into the active window.</p>
<p>This is also useful to preview the current contents of the clipboard before pasting (which is always a good idea if you're pasting into a sensitive terminal or a work IRC channel and want to avoid spamming some random/harmful nonsense in).</p>
  </div>
</article>

<div class="pagination">
    <ul>
        <li class="pagination__prev">
            <a href="http://cmsj.net/author/chris-jones2.html">&laquo;</a>
        </li>



          <li>
            <a  href="http://cmsj.net/author/chris-jones.html">1</a>
          </li>


          <li>
            <a  href="http://cmsj.net/author/chris-jones2.html">2</a>
          </li>


          <li>
            <a class="pagination__page--current" href="http://cmsj.net/author/chris-jones3.html">3</a>
          </li>


          <li>
            <a  href="http://cmsj.net/author/chris-jones4.html">4</a>
          </li>


          <li>
            <a  href="http://cmsj.net/author/chris-jones5.html">5</a>
          </li>


          <li>
            <a  href="http://cmsj.net/author/chris-jones6.html">6</a>
          </li>


                <li>.....</li>
            </li>


                <li>.....</li>
            </li>


                <li>.....</li>
            </li>


                <li>.....</li>
            </li>


                <li>.....</li>
            </li>


                <li>.....</li>
            </li>


                <li>.....</li>
            </li>


                <li>.....</li>
            </li>


                <li>.....</li>
            </li>


                <li>.....</li>
            </li>


                <li>.....</li>
            </li>


                <li>.....</li>
            </li>


                <li>.....</li>
            </li>


                <li>.....</li>
            </li>


                <li>.....</li>
            </li>


                <li>.....</li>
            </li>


          <li>
            <a  href="http://cmsj.net/author/chris-jones23.html">23</a>
          </li>

        <li class="pagination__next">
            <a href="http://cmsj.net/author/chris-jones4.html">&raquo;</a>
        </li>
    </ul>
</div>

  </main>
    <footer>
      <div class="author__logo">
          <img src="http://cmsj.net/theme/images/logo.png" alt="logo">
      </div>
      <section class="author">
        <div class="author__name">
          <a href="http://cmsj.net/pages/about.html">Chris Jones</a>
          <p></p>
        </div>
        <div class="author__link">
          <ul>
            <li>
              <a href="https://twitter.com/cmsj" target="_blank" title="twitter">
                <i class="fab fa-twitter-square"></i>
              </a>
            </li>
            <li>
              <a href="https://github.com/cmsj" target="_blank" title="github">
                <i class="fab fa-github-square"></i>
              </a>
            </li>
            <li>
              <a href="http://cmsj.net/feeds/all.atom.xml" target="_blank" title="Feed">
                <i class="fas fa-rss-square"></i>
              </a>
            </li>
          </ul>
        </div>
      </section>
      <div class="ending-message">
        <p>&copy; Chris Jones. Powered by <a href="http://getpelican.com" target="_blank">Pelican</a>, Theme is using <a href="https://github.com/laughk/pelican-hss" target="_blank">HSS</a>. </p>
      </div>
    </footer>
</body>
</html>