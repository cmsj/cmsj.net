<!DOCTYPE html>
<html lang="en">

<head>
  <!-- ## for client-side less
  <link rel="stylesheet/less" type="text/css" href="../theme/css/style.less">
  <script src="//cdnjs.cloudflare.com/ajax/libs/less.js/1.7.3/less.min.js" type="text/javascript"></script>
  -->
  <link rel="icon" type="image/vnd.microsoft.icon" href="../">
  <link rel="stylesheet" type="text/css" href="../theme/css/normalize.css">
  <link rel="stylesheet" type="text/css" href="../theme/css/style.min.css">
  <link rel="stylesheet" type="text/css" href="../theme/css/pygments.css">
  <link rel="stylesheet" type="text/css" href="../theme/css/fontawesome-all.min.css">
  <link rel="stylesheet" type="text/css" href="../theme/css/hatena-bookmark-icon.css">


  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="author" content="Chris Jones">
  <meta name="description" content="Posts and writings by Chris Jones">

  <link href="http://cmsj.net/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="cmsj.net Atom" />


  <title>
    cmsj.net
&ndash; Category: misc  </title>

</head>

<body>
  <main>
    <header>
      <div class="site-name">
        <a href="/">cmsj.net</a>
      </div>
      <p>
        <a href="../archives.html"><i class="fas fa-archive"></i> Archive</a>
&gt; Category: misc
      </p>
    </header>

<article>
  <div class="article__title">
    <h1><a href="../2010/03/31/terminator-091-released.html">Terminator 0.91 released</a></h1>
  </div>
  <div class="article__meta">
    <p class="article__meta__post-date">Wed 31 March 2010</p>
    </p>
  </div>
  <div class="article__text">
    <p>Unfortunately I overlooked some very annoying bugs during the 0.90 release process. This is a quick release to address them. apologies to those affected.</p>
  </div>
</article>
<hr />
<article>
  <div class="article__title">
    <h1><a href="../2010/03/30/heads-up-new-terminator-incoming.html">Heads up, new Terminator incoming</a></h1>
  </div>
  <div class="article__meta">
    <p class="article__meta__post-date">Tue 30 March 2010</p>
    </p>
  </div>
  <div class="article__text">
    <p>Ok folks, I suck for not getting Terminator 0.90 released earlier and I suck for not having a bunch of bug fixes for 0.14 in Ubuntu Lucid.
I'm going to fix both tonight by releasing 0.90 and begging the lovely Ubuntu Universe folks to grant an exception to get it into Lucid.
Here's hoping everything goes smoothly!</p>
  </div>
</article>
<hr />
<article>
  <div class="article__title">
    <h1><a href="../2010/03/15/adventure-with-hp-printerscanner-and.html">An adventure with an HP printer/scanner and Ubuntu</a></h1>
  </div>
  <div class="article__meta">
    <p class="article__meta__post-date">Mon 15 March 2010</p>
    </p>
  </div>
  <div class="article__text">
    <p>For a while now I've been thinking about some ideas for a project that will require a scanner. No problem you think, scanners of various kinds have been supported in Linux for a long time.
I dislike ordering hardware online because of the shipping lag and because I'm a sucker for the retail experience, so I was checking out which devices would work with Ubuntu and which devices were on sale in my local computer supermarket. The latter was a depressingly short list, and the former was getting annoying to search for, but I stumbled on the idea of a multi-function printer. It turns out that it's cheaper to buy a scanner as part of a printer than it is to buy a scanner on its own (granted the resolution of the scanner isn't quite as good, but it's more than sufficient for my needs). The reason for this is undoubtedly that the manufacturers are expecting to make up their money by selling me ink cartridges every few months.
As I started to look at models of multi-function printers, one thing became apparent almost immediately - HP have done a lot of leg work on this. I quickly found a bunch of info on their site about how they basically support all of their stuff on Linux, including a page which specifically listed popular distros and which versions worked with which printers.
I decided pretty much immediately that I wanted to support this, so off I went to the shop to buy an HP. They had the decent looking F4580 for around £40, so I nabbed that and set off home.
When I got home I fired up my laptop running Lucid and plugged the new device in. Less than 10 seconds later I was told it was ready for printing, and I fired up Robert Ancell's excellent new Simple Scan to see what configuration I would need to do to make that work.... the answer being none, it scanned a page first time.
Now smug with the ease with which that had worked I started installing the HP driver software on a popular proprietary operating system so I could use it to configure the printer's WiFi feature (something I assumed I couldn't do from within Ubuntu - an assumption that turns out to have been wrong). Ten minutes later it was still finishing off the install process, but eventually I did get the printer hooked up to our wireless network.
Back to the Lucid machine, I told it to add a new printer, it immediately saw the HP announcing itself on the network and let me quickly add that and I could print over wifi. Pretty nifty stuff.
Then I started poking around with HP's Linux Imaging and Printing software (HPLIP) and noticed that there was an "hp-toolbox" that wasn't installed. This is the tool I should have used to configure the wifi network on the printer; It also shows the ink levels and lets you kick off scanning/printing/cleaning type jobs. Out of sheer curiosity I went into hp-toolbox's preferences and changed it from using xsane to simple-scan, and told it to start a Scan. I wasn't expecting it to work because the device wasn't connected via USB, but it turns out that not only does the device support scanning over WiFi, it works in Linux. It's not quite as fast as a direct hookup, but it's certainly significantly more convenient!
So there we have it, out of the box I was up and running within 10 seconds of plugging the device in, and if I'd known to just install hp-toolbox I would have had everything running wirelessly a few minutes later. This being compared to installing CDs and dealing with great gobs of driver/application mess (I've seen HP's Windows drivers and it's no fun trying to persuade them to update themselves, or to persuade them not to prompt you to register every week). A huge, epic victory for Linux and Ubuntu - and one that I seem to find with much random consumer hardware these days. A few years ago this post would have been full of complicated commands and scripts and compilation as I described how to make the device work, but now all I can do is be smug about how easy it was :D
Win.</p>
  </div>
</article>
<hr />
<article>
  <div class="article__title">
    <h1><a href="../2010/03/15/terminator-090beta3-released.html">Terminator 0.90beta3 released</a></h1>
  </div>
  <div class="article__meta">
    <p class="article__meta__post-date">Mon 15 March 2010</p>
    </p>
  </div>
  <div class="article__text">
    <p>We've been hard at work over the last 7 months preparing a whole new core for Terminator and it's getting close to being ready, so this is a beta release intended for testing only. Ubuntu packages have been uploaded to our test PPA (<a href="https://launchpad.net/~gnome-terminator/+archive/test">https://launchpad.net/~gnome-terminator/+archive/test</a>) and a tarball is available from <a href="http://mairukipa.tenshu.net/~cmsj/terminator/">http://mairukipa.tenshu.net/~cmsj/terminator/</a>.
Please provide any feedback about this release to our bug tracker at <a href="https://bugs.launchpad.net/terminator/">https://bugs.launchpad.net/terminator/</a> or our IRC channel, #terminator on irc.freenode.net.</p>
<p>Caveats:
  * config files from 0.14 and earlier are currently ignored by 0.90 because the config file format has changed.
  * we now have a very basic ability to save and restore layouts, but this feature is very new and likely to contain many bugs</p>
  </div>
</article>
<hr />
<article>
  <div class="article__title">
    <h1><a href="../2010/01/21/final-approach-for-terminator-epic.html">Final approach for Terminator epic-refactor</a></h1>
  </div>
  <div class="article__meta">
    <p class="article__meta__post-date">Thu 21 January 2010</p>
    </p>
  </div>
  <div class="article__text">
    <p>I'm done hacking on the Terminator epic-refactor branch for the evening and the following has been achieved today (in chronological order):</p>
<ul>
<li>Fix a bug in handling URLs dropped on the window</li>
<li>Implement directional navigation</li>
<li>Implement geometry hinting</li>
<li>Fix a bug in group emitting that cause "Broadcast off" and "Broadcast to all" to become inverted</li>
<li>Implement WM_URGENT bell handler</li>
</ul>
<p>I'm <em>really</em> happy with how this is going. All that is left to have feature parity with trunk, I think, is some keyboard shortcut handlers.
I'd still love to get more testing results to make sure I haven't missed anything, but at this rate I'm expecting to be able to land the epic-refactor branch on trunk this weekend, after five and a half months.
Then I'm going to write a tool to convert old config files and we can think about putting out a 0.90 beta release. Exciting stuff!</p>
  </div>
</article>
<hr />
<article>
  <div class="article__title">
    <h1><a href="../2010/01/21/this-is-your-captain-speaking.html">This is your captain speaking, Terminator has now landed!</a></h1>
  </div>
  <div class="article__meta">
    <p class="article__meta__post-date">Thu 21 January 2010</p>
    </p>
  </div>
  <div class="article__text">
    <p>I managed to finish off what I thought were the last few missing keyboard shortcuts during my lunch break today, but then realised that I'd missed two, but I was so excited an short of time that I decided to just go ahead and land the branch anyway!
So there it is - trunk is now completely refactored and full of exciting new bugs. I noticed while I was working from it this afternoon that the transparency setting code wasn't working, but I expect I can get that cleared up tonight :)
Now a bunch of bug fixing and a config converter and we can release!
Thanks to everyone who has been testing so far.</p>
  </div>
</article>
<hr />
<article>
  <div class="article__title">
    <h1><a href="../2010/01/19/terminator-090-progress.html">Terminator 0.90 progress</a></h1>
  </div>
  <div class="article__meta">
    <p class="article__meta__post-date">Tue 19 January 2010</p>
    </p>
  </div>
  <div class="article__text">
    <p>Further to my previous post I thought I'd post a quick update about how things are progressing. I mentioned in my previous post that I knew of several things that were not yet working in the Epic Refactor branch:</p>
<ul>
<li>-e and -x command line options</li>
<li>all forms of drag &amp; drop</li>
<li>directional navigation</li>
<li>some keyboard shortcuts</li>
</ul>
<p>I'm pleased to say that the first two of these are now taken care of, but the latter two are still to be done. I'm less pleased to say that I haven't had much external feedback about this branch yet, but I suspect that most people who might be interested probably don't read my blog ;)
So if you know people who like Terminator and enjoy testing things out, all they need to do is:
    bzr branch lp:~cmsj/terminator/epic-refactor
    cd epic-refactor
    ./terminator</p>
<p>and give some feedback!</p>
  </div>
</article>
<hr />
<article>
  <div class="article__title">
    <h1><a href="../2010/01/05/testing-terminator-090.html">Testing Terminator 0.90</a></h1>
  </div>
  <div class="article__meta">
    <p class="article__meta__post-date">Tue 05 January 2010</p>
    </p>
  </div>
  <div class="article__text">
    <p>You might have seen my recent posts about the epic refactoring that has been going on in the Terminator codebase for the last few months.
I think it's finally time that we get some more eyeballs on it, mainly so I can check that I haven't massively screwed something up. I know there is lots of missing functionality right now, and probably a bunch of subtle bugs, but I could use your help quantifying exactly what these are!
If you're inclined to help, please branch <em>lp:~cmsj/terminator/epic-refactor</em>, cd into it and run <em>./terminator</em>, then use it like you always would and file bugs, preferably indicating clearly in the bug that you're using this branch and not trunk (maybe tag the bug '<strong>epicrefactor</strong>').
Things I know are broken right now:</p>
<ul>
<li>-e and -x command line options</li>
<li>all forms of drag &amp; drop</li>
<li>directional navigation</li>
<li>some keyboard shortcuts</li>
</ul>
<p>Things I know are missing because they're not coming back:
-   Extreme tabs mode (sorry, it's just too insane to support)
-   GNOME Terminal profile reading (I'm trying to simplify our crazy config system and dropping GConf is a good way to achieve that)
-   Config file reading. At some point I'll write something that migrates old Terminator configs to the new format, but for now you'll have to live without your old config file. The new one isn't documented yet either, but it is a whole bunch better!</p>
<p>Now would also be a great time to start writing plugins for Terminator and telling me about them. I'm happy to ship good plugins, but more importantly I want feedback about the weaknesses/strengths of our plugin system. Right now you can only hook into URL mangling and the terminal context menu, but the latter of those gives you pretty serious flexibility I think. Obviously one massive weakness is a lack of documentation about the plugin API, but I'll get to that, I promise!
So there we have it, another step along the way to me being able to merge this branch into trunk and put out a real release of 0.90 and then eventually 1.0!</p>
  </div>
</article>
<hr />
<article>
  <div class="article__title">
    <h1><a href="../2009/12/31/python-wanderings-part-two.html">Python wanderings, part two</a></h1>
  </div>
  <div class="article__meta">
    <p class="article__meta__post-date">Thu 31 December 2009</p>
    </p>
  </div>
  <div class="article__text">
    <h2>2. Plugging it all in</h2>
<p>Sometimes we get feature requests and merge proposals for features that are clearly useful for someone, but not appropriate for the general use cases. It's always unfortunate to have to say no to these folks, but we have a slim menu UI and I'm wary of cluttering it with niche features. Still, turning away legitimate users is something I don't like doing, so for a while we've been considering how to fix this.
The obvious answer is that we should support plugins, and I've been working on such a system for my epic refactoring. This is a quick wander through some thoughts I've had.
I started out by googling for python plugin systems; One if the top hits was <a href="http://lucumr.pocoo.org/2006/7/3/python-plugin-system">this page</a> by Armin Ronacher . In it he demonstrates a plugin system in under 40 lines of Python. It's simple and flexible, but there are some issues, like it makes doctest very sad.
I asked about this in #python and was politely informed that I was Doing It Wrong. I chatted for a while with the helpful residents and came away with a list of plugin frameworks to look at, namely twisted.plugin and zope.interface.
Pulling in external dependencies is a big deal for us - many of our users are on Ubuntu or similar desktops with lots of python packages already installed, but some are not using GNOME or a Linux desktop at all, so we have to be sure that we need a library before we depend on it.
After playing a little with both of the options I came to the conclusion that while they are both really well made and capable, they are far more formal than we need, and the added dependency issues continued to concern me.
I revisited Armin's plugin system and removed the use of .__subclasses__() that was breaking doctest and offending #python instead having a list in each .py file which the plugin system extracts and treats any classes mentioned in that list as plugins. I also extended it to always instantiate the plugins and look for the plugin files in both the system directories and the user's home directory.
<a href="http://bazaar.launchpad.net/%7Ecmsj/%2Bjunk/terminator-epic-refactor/annotate/head%3A/terminatorlib/plugin.py">This plugin system</a> is currently hooked into two places in the branch, URL mangling and the context menu. This allows plugins to add support for new URL types (e.g. we just added support for Launchpad code URLs like lp:~cmsj/+junk/terminator-epic-refactor), and insert new options into the context menu. I'm not sure if we need to go further, but if you would like to hook into other parts let me know - it's pretty easy to arrange now :)</p>
  </div>
</article>
<hr />
<article>
  <div class="article__title">
    <h1><a href="../2009/12/23/python-wanderings-part-one.html">Python wanderings, part one</a></h1>
  </div>
  <div class="article__meta">
    <p class="article__meta__post-date">Wed 23 December 2009</p>
    </p>
  </div>
  <div class="article__text">
    <p>As mentioned in my earlier post about refactoring Terminator, I want to talk about some of the things I've learned about Python and programming in the last few months. If I were you I wouldn't place any great significance in anything I'm about to say - after all I'm a rank amateur in the field of programming.
This is going to be a multi-part post so I at least get something out there, rather than leaving it to rot forever in my drafts folder.</p>
<h2>1. Solving global warming^W variables</h2>
<p>I have objects that represent terminal widgets, objects that represent widgets that contain terminals, objects that contain configuration, and one master object that functions as the brains of the operation.
Inevitably these objects need to know about each other, but how to achieve that? The brain object is simply called 'Terminator' and almost every other part of the system needs to know about it, same with the config object, and Terminator needs to know about all of the terminal objects, etc. The dependencies are all over the place and one aim of the re-factor was to separate all these parts out and decouple them, but ultimately I was never going to get away from different objects needing to know about each other.
So how to go about it? As far as I know the options are:
-   pass around object references (every time you create something, pass it your references to all the bits it needs)
    -   Pros: no hacks or tricks involved
    -   Cons: makes every __init__() more complicated, means passing references that an object doesn't need other than to pass to its children.</p>
<ul>
<li>
<p>use global variables</p>
<ul>
<li>Pros: they're global</li>
<li>Cons: everyone seems to hate global variables, perhaps because it's an implicit dependency not an explicit one, or because of potential namespace collisions, or maybe other reasons.</li>
</ul>
</li>
<li>
<p>use singletons</p>
<ul>
<li>Pros: explicit dependency</li>
<li>Cons: often seems to involve hackery to get the singleton object reference</li>
</ul>
</li>
</ul>
<p>In my searching around I came across a fourth option that somewhat relates to singletons... the Borg pattern.
This is a very simple idea - it's a class that always instantiates to the same thing. You don't need a factory or function or something that gives you a reference to the singleton, you just instantiate a class and it's the same as all of the others you've instantiated of the same class.
Best of all, the Borg pattern is incredibly simple in Python. Like, really simple. Don't believe me? Click <a href="http://code.activestate.com/recipes/66531/">here</a>. Yep, four lines of code. Technically it's probably a bit ugly, but the resulting code feels very clean.
So now I have the Borg pattern in use for the main class, a class that provides all the configuration, a class that discovers plugins and lets them be referenced, and a fairly new class I'm experimenting with that acts as a factory for all of my classes, as a way to break any possibility of circular module dependencies.
Reality has to bite though, the Borg isn't a panacea; One has to be very careful about how one creates Borg objects. I chose to create a base class called Borg which Terminator, Config, Factory and PluginRegistry all derive from, but this turns out to have been a very short sighted decision to abstract out the common 4 lines. It wasn't until I started building Config to have functions that allow it to be accessed as a dict that I realised all of my Terminator, Config, Factory and PluginRegistry instances were the same thing as opposed to each type being distinct. It's also terrifyingly important that the subclasses of Borg not use class attributes. Any attributes defined by these classes *must* be instantiated as None so they are instance variables, and *after* you've called Borg.__init__(self) in your own __init__() you can then set up your attributes however you want because they are then part of the shared state.
On the whole I am happy with the Borg pattern. I've written test code to ensure that all of the assumptions I explicitly made are guaranteed, and all of the implicit assumptions I've discovered I made are also safe. Nonetheless, it's not a completely clean solution and I find myself wishing it was somehow a primitive of the language.</p>
  </div>
</article>

<div class="pagination">
    <ul>
        <li class="pagination__prev">
            <a href="../category/misc7.html">&laquo;</a>
        </li>



          <li>
            <a  href="../category/misc.html">1</a>
          </li>


                <li>.....</li>
            </li>


                <li>.....</li>
            </li>


                <li>.....</li>
            </li>


          <li>
            <a  href="../category/misc5.html">5</a>
          </li>


          <li>
            <a  href="../category/misc6.html">6</a>
          </li>


          <li>
            <a  href="../category/misc7.html">7</a>
          </li>


          <li>
            <a class="pagination__page--current" href="../category/misc8.html">8</a>
          </li>


          <li>
            <a  href="../category/misc9.html">9</a>
          </li>


          <li>
            <a  href="../category/misc10.html">10</a>
          </li>


          <li>
            <a  href="../category/misc11.html">11</a>
          </li>


                <li>.....</li>
            </li>


                <li>.....</li>
            </li>


                <li>.....</li>
            </li>


                <li>.....</li>
            </li>


                <li>.....</li>
            </li>


                <li>.....</li>
            </li>


                <li>.....</li>
            </li>


                <li>.....</li>
            </li>


                <li>.....</li>
            </li>


                <li>.....</li>
            </li>


                <li>.....</li>
            </li>


          <li>
            <a  href="../category/misc23.html">23</a>
          </li>

        <li class="pagination__next">
            <a href="../category/misc9.html">&raquo;</a>
        </li>
    </ul>
</div>

  </main>
    <footer>
      <section class="author">
        <div class="author__link">
          <ul>
            <li>
              <a href="https://twitter.com/cmsj" target="_blank" title="twitter">
                <i class="fab fa-twitter-square"></i>
              </a>
            </li>
            <li>
              <a href="https://github.com/cmsj" target="_blank" title="github">
                <i class="fab fa-github-square"></i>
              </a>
            </li>
            <li>
              <a href="http://cmsj.net/feeds/all.atom.xml" target="_blank" title="Feed">
                <i class="fas fa-rss-square"></i>
              </a>
            </li>
          </ul>
        </div>
      </section>
      <div class="ending-message">
        <p>&copy; Chris Jones.</p>
      </div>
    </footer>
</body>
</html>